/* --- ESTE ARCHIVO ES CONTROLADO POR app.js --- */
/* Se activa cuando el <html> tiene la clase .dark-mode */
html.dark-mode {
    --color-fondo: #121212;
    --color-superficie: #1E1E1E;
    --color-texto-principal: #E0E0E0;
    --color-texto-secundario: #c8c8c8;
    /* CAMBIO: Borde más oscuro/sutil */
    --color-borde: rgba(255, 255, 255, 0.08); /* Era #2C2C2C */
    --color-activo: #333333;
}

/* --- Fondo General --- */
html.dark-mode body {
    background-color: #ffffff !important;
}

html.dark-mode .mobile-frame {
    background-color: #1E1E1E;
    color: var(--color-texto-principal);
}

/* --- Cabeceras, Títulos y Texto (Regla General) --- */
html.dark-mode h1,
html.dark-mode h2,
html.dark-mode h3,
html.dark-mode p,
html.dark-mode span,
html.dark-mode strong,
html.dark-mode label,
html.dark-mode a {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .subtitle,
html.dark-mode .description,
html.dark-mode .terms {
    color: var(--color-texto-secundario) !important;
}

/* --- Fondos de secciones y tarjetas --- */
html.dark-mode .app-header,
html.dark-mode .bottom-nav,
html.dark-mode .bottom-nav-v2,
html.dark-mode .app-content,
html.dark-mode .card,
html.dark-mode .in-process-card,
html.dark-mode .item-card,
html.dark-mode .btn-logout,
html.dark-mode .checkout-header,
html.dark-mode .options-list,
html.dark-mode .items-summary,
html.dark-mode .totals-section,
html.dark-mode .footer-checkout,
html.dark-mode .footer-save
{
    background-color: var(--color-superficie);
    border-color: var(--color-borde);
}

/* --- Home: Botones de Filtro --- */
html.dark-mode .filter-buttons button,
html.dark-mode .filter-pills button {
    background-color: var(--color-superficie);
    border-color: var(--color-borde);
    color: var(--color-texto-principal) !important;
}

/* --- Cajas de búsqueda e Inputs --- */
html.dark-mode .search-container,
html.dark-mode .input-group input {
    background-color: var(--color-activo);
    border-color: var(--color-borde);
}
html.dark-mode .input-group input {
    color: var(--color-texto-principal);
}
html.dark-mode .search-container input::placeholder {
    color: var(--color-texto-secundario);
}
html.dark-mode .search-container i,
html.dark-mode .status-icons i,
html.dark-mode .checkout-header .back-arrow i {
     color: var(--color-texto-secundario);
}

/* --- Navegación y Botones Activos --- */
html.dark-mode .bottom-nav a.active,
html.dark-mode .filter-pills button.active {
    background-color: var(--color-activo);
    color: var(--color-texto-principal);
}

/* --- Bordes y Separadores --- */
html.dark-mode .bottom-nav,
html.dark-mode .bottom-nav-v2,
html.dark-mode .checkout-header,
html.dark-mode .menu-options li,
html.dark-mode .option-item,
html.dark-mode .items-summary,
html.dark-mode .divider::before,
html.dark-mode .divider::after,
html.dark-mode .item-card
{
    border-color: var(--color-borde) !important;
}

/* --- Perfil: Cabecera de la App --- */
html.dark-mode .app-header {
    background-color: var(--color-fondo);
}
html.dark-mode .app-header .logo-text {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .app-header .logo-d {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .logo-icon {
    display: none !important;
}

/* --- Perfil: Cabecera de Perfil --- */
html.dark-mode .profile-header h2 {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .profile-pic {
    border-color: var(--color-borde);
}

/* --- Perfil: Lista de Opciones --- */
html.dark-mode .menu-options li a {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .dark-mode-label {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .menu-options li a i {
    color: var(--color-texto-secundario) !important;
}
html.dark-mode .btn-logout {
    color: #f44336;
    background-color: var(--color-activo);
}
html.dark-mode .menu-options li a:hover {
    background-color: var(--color-activo); 
}

/* --- Inicio Sesión --- */
html.dark-mode .btn-social {
    background-color: var(--color-superficie);
    color: var(--color-texto-principal);
    border-color: var(--color-borde);
}
html.dark-mode .terms a {
    color: var(--color-texto-principal) !important;
}

/* --- Botones principales --- */
html.dark-mode .btn-primary,
html.dark-mode .btn-checkout,
html.dark-mode .btn-save {
    background-color: #007bff;
    color: #ffffff;
}

/* --- Pago: Lista de Opciones --- */
html.dark-mode .option-item a {
    color: var(--color-texto-secundario) !important;
}
html.dark-mode .option-item span {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .summary-header span {
    color: var(--color-texto-secundario) !important;
}

/* --- Pago: Sección de Totales --- */
html.dark-mode .total-row span:first-child {
    color: var(--color-texto-secundario) !important;
}
html.dark-mode .total-row span:last-child {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .total-row.total span {
    color: var(--color-texto-principal) !important;
    font-weight: 700;
}
html.dark-mode .item-price {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .cart-delete-btn {
    background-color: #333;
    border-color: #444;
    color: #888;
}
html.dark-mitm .cart-delete-btn:hover {
    background-color: #570000;
    border-color: #a00;
    color: #ff453a;
}
html.dark-mode .cart-delete-btn svg {
    fill: #888;
}
html.dark-mode .cart-delete-btn:hover svg {
    fill: #ff453a;
}

/* --- Actividad --- */
html.dark-mode .activity-feed .activity-item {
    border-bottom: 1px solid var(--color-borde);
}
html.dark-mode .activity-feed .activity-item:last-child {
    border-bottom: none;
}
html.dark-mode .activity-feed .activity-text p,
html.dark-mode .activity-feed .activity-text span {
    color: var(--color-texto-principal) !important;
}
html.dark-mode .activity-feed .activity-text .description {
    color: var(--color-texto-secundario) !important;
}

/* --- Ocultar la barra de scroll vertical --- */
.app-content { scrollbar-width: none; }
.app-content::-webkit-scrollbar { display: none; }

/* --- Estilos de Error de Formulario --- */
/* ... (tu código de error) ... */


/* * --- ¡CAMBIOS AQUÍ! ---
 * Añadidas las reglas que faltaban para las líneas
 * y para el selector de cantidad en modo oscuro.
 */
html.dark-mode .list-header {
    border-bottom-color: var(--color-borde) !important;
}
html.dark-mode .product-item {
    border-bottom-color: var(--color-borde) !important;
}

html.dark-mode .add-btn {
    color: #f1f1f1;
    background-color: #333;
    border-color: #555;
}
html.dark-mode .add-btn:hover {
    background-color: #444;
}

html.dark-mode .quantity-selector {
    background-color: #333;
    border-color: #555;
}
html.dark-mode .quantity-btn {
    color: #f1f1f1;
}
html.dark-mode .quantity-btn:hover {
    background-color: #444;
}
html.dark-mode .quantity-count {
    color: #f1f1f1;
}